# aegis_moveit_config

This package has been auto-generated with Setup Assistant tool. Here is the [tutorial](https://moveit.picknik.ai/main/doc/examples/setup_assistant/setup_assistant_tutorial.html).


> [!WARNING]
> Remember to setup `LC_NUMERIC=en_US.UTF-8` locale before running anything!

## Running with the real hardawre
1. Ensure that the `ur_robot_driver` is running:
```bash
# Set the robot IP alias in the /etc/hosts file
ros2 launch ur_robot_driver ur_control.launch.py ur_type:=ur5e robot_ip:=aegis launch_rviz:=false
```
2. Ensure that the `ros2_control` is connected the to the robot (play the program via Dashboard):
```bash
ros2 service call /dashboard_client/stop std_srvs/srv/Trigger {}
ros2 service call /dashboard_client/play std_srvs/srv/Trigger {}
```
3. Run the MoveIt2
```bash
ros2 launch aegis_moveit_config aegis.launch.py launch_rviz:=true
```

4. Run the hotfix publisher for the gripper state
```bash
ros2 topic pub /joint_states sensor_msgs/msg/JointState \
"header:
  stamp:
    sec: 1732819827
    nanosec: 173021585
  frame_id: ''
name: ["hande_right_finger_joint", "hande_left_finger_joint"]
position: [0.025, 0.025]
velocity: [0.0, 0.0]
effort: [0.0, 0.0]
"

```

## Running with the O3DE simulation

> [!CAUTION]
> The following content is currently DEPRECATED!
> More information can be found in [this issue](https://github.com/AGH-CEAI/aegis_ros/issues/2).

- Atlas Launch file (manually crafted based on UR ROS 2 Driver & O3DE Manipulation Example)
```bash
ros2 launch aegis_moveit_config atlas_moveit.launch.py use_sim:=true launch_rviz:=true
```

- Demo view (autogenerated from MoveIt2 Wizard)
```bash
ros2 launch ceai_ur_moveit_config demo.launch.py
```
